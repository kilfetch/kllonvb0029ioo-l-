<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<script src="/js/mobile-redirect.js"></script>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>–ü–æ–∏—Å–∫ | ReFind</title>
<meta name="description" content="–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —É—Ç–µ—á–µ–∫"/>
<meta name="theme-color" content="#121212"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="robots" content="index, follow"/>

<meta http-equiv="Content-Security-Policy" content="default-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com https://cdnjs.cloudflare.com; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; img-src 'self' data: blob:; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; connect-src 'self';">
<meta http-equiv="X-Content-Type-Options" content="nosniff">
<meta http-equiv="X-Frame-Options" content="DENY">
<meta name="referrer" content="no-referrer">

<script type="text/javascript">
(function(){
    if (typeof window.__cfRLUnblockHandlers === 'undefined') {
        window.__cfRLUnblockHandlers = true;
    }
    
    window.addEventListener('error', function(e) {
        if (e && e.target && (e.target.src || e.target.href)) {
            var blockedResources = [
                'favicon.ico', 'api.js', 'gtm.js', 'fbevents.js',
                'analytics', 'track', 'pixel', 'collect'
            ];
            var resource = e.target.src || e.target.href;
            for (var i = 0; i < blockedResources.length; i++) {
                if (resource.indexOf(blockedResources[i]) !== -1) {
                    e.preventDefault();
                    return false;
                }
            }
        }
    }, true);
    
    if (navigator.doNotTrack !== '1' && window.location.protocol === 'https:') {
        var d = document.createElement('link');
        d.rel = 'dns-prefetch';
        d.href = '//cloudflare-dns.com';
        document.head.appendChild(d);
    }
})();
</script>

<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "xxxx-xxxx-xxxx"}'></script>

<link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet"></noscript>
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"></noscript>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com">
<script src="/js/config.js"></script>
<script src="/js/api-helper.js"></script>
<script defer src="/js/script.js"></script>
<link rel="stylesheet" href="/css/style.css">
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Montserrat', sans-serif;
    }
    
    body {
        background-color: #0A0A0A;
        color: #FFF;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        line-height: 1.6;
        text-rendering: optimizeSpeed;
    }
    
    .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 24px;
        background-color: rgba(12, 12, 12, 0.85);
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .navbar.scrolled {
        padding: 12px 24px;
        background-color: rgba(10, 10, 10, 0.9);
    }
    
    .navbar a img.ref {
        height: 48px;
        object-fit: contain;
        max-width: 100%;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .navbar.scrolled a img.ref {
        height: 40px;
    }
    
    .desktop-menu {
        display: flex;
        gap: 16px;
        margin-left: auto;
    }
    
    .nav-button {
        display: inline-block;
        padding: 8px 16px;
        background-color: #121212;
        color: #FFF;
        text-decoration: none;
        border-radius: 6px;
        font-weight: 500;
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.2);
        letter-spacing: 0.3px;
    }
    
    .nav-button:hover {
        background-color: rgba(255, 255, 255, 0.1);
        border-color: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
    }
    
    .nav-button.active {
        background-color: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.4);
    }
    
    .menu-data {
        display: none;
        position: fixed;
        top: 0;
        right: -100%;
        width: 80%;
        height: 100vh;
        background-color: rgba(10, 10, 10, 0.98);
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        z-index: 999;
        box-shadow: -5px 0 25px rgba(0, 0, 0, 0.5);
        flex-direction: column;
        justify-content: flex-start;
        padding-top: 80px;
        transition: right 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .menu-data.active {
        right: 0;
        display: flex;
    }
    
    .menu-data a {
        display: block;
        margin: 15px 25px;
        font-size: 1.2rem;
        text-align: center;
        padding: 12px 15px;
        border-radius: 8px;
        background-color: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.05);
        transition: all 0.3s ease;
        color: #fff;
        text-decoration: none;
        letter-spacing: 0.5px;
    }
    
    .menu-data a:hover, .menu-data a:active {
        background-color: rgba(255, 255, 255, 0.08);
        transform: translateY(-2px);
    }
    
    #Menu-bar {
        display: none;
        cursor: pointer;
        font-size: 1.5rem;
        padding: 10px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.05);
        color: #fff;
        transition: all 0.3s ease;
    }
    
    .expand-btn, .collapse-btn {
        display: inline-block;
        background: none;
        border: none;
        font-size: 12px;
        color: #aaa;
        cursor: pointer;
        margin-left: 5px;
        padding: 2px 5px;
        border-radius: 3px;
        transition: all 0.2s ease;
    }
    
    .expand-btn:hover, .collapse-btn:hover {
        background-color: rgba(255, 255, 255, 0.1);
        color: #fff;
    }
    
    .expand-btn:focus, .collapse-btn:focus {
        outline: none;
    }
    
    .short-text, .full-text {
        word-break: break-word;
    }
    
    .full-text {
        color: #fff;
    }
    
    .hero-section {
        flex: 1;
        background: #0A0A0A;
        display: flex;
        flex-direction: column;
        padding-top: 80px;
        position: relative;
        min-height: 100vh;
    }
    
    .search-container {
        width: 90%;
        max-width: 800px;
        margin: 2rem auto;
        padding: 2rem 0;
    }
    
    .search-form {
        background-color: rgba(25, 25, 25, 0.2);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 2rem;
        margin-bottom: 2rem;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    }
    
    .search-input-group {
        position: relative;
        display: flex;
        margin-bottom: 0.8rem;
    }
    
    .search-input {
        flex: 1;
        padding: 16px 18px;
        background-color: rgba(15, 15, 15, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px 0 0 8px;
        color: #FFF;
        font-size: 1.05rem;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        font-family: 'Montserrat', sans-serif;
        letter-spacing: 0.3px;
    }
    
    .search-input:focus {
        outline: none;
        border-color: rgba(255, 255, 255, 0.3);
        box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.05);
    }
    
    .search-button {
        padding: 16px 24px;
        background-color: rgba(255, 255, 255, 0.1);
        color: #FFF;
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 0 8px 8px 0;
        font-size: 1.05rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        letter-spacing: 0.5px;
    }
    
    .search-button:hover {
        background-color: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.3);
        transform: translateY(-1px);
    }
    
    .search-error {
        color: #FF6B6B;
        margin-top: 10px;
        font-size: 0.9rem;
        display: none;
    }
    
    .search-hint {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.85rem;
        display: flex;
        align-items: center;
        gap: 6px;
        letter-spacing: 0.2px;
    }
    
    .search-limit-row {
        display: flex;
        justify-content: space-between;
        margin-top: 10px;
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.85rem;
    }
    
    .search-limit-indicator {
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .search-limit-count {
        color: rgba(255, 255, 255, 0.8);
        font-weight: 500;
    }
    
    .search-results {
        background-color: rgba(22, 22, 22, 0.6);
        border-radius: 16px;
        border: 2px solid rgba(255, 255, 255, 0.15);
        padding: 35px;
        margin-bottom: 2.5rem;
        display: none;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        animation: fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        max-width: 1100px;
        margin-left: auto;
        margin-right: auto;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .results-header {
        margin-bottom: 1.8rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 15px;
        background-color: rgba(18, 18, 18, 0.5);
        padding: 18px 22px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.08);
    }
    
    .results-title {
        font-size: 1.3rem;
        font-weight: 600;
        color: rgba(255, 255, 255, 0.9);
        letter-spacing: 0.5px;
        margin: 0;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .results-title i {
        color: rgba(255, 255, 255, 0.6);
        font-size: 1.1rem;
    }
    
    .info-message {
        display: flex;
        background-color: rgba(35, 35, 35, 0.5);
        border-left: 3px solid rgba(150, 150, 150, 0.5);
        padding: 15px;
        margin: 15px 0;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transition: all 0.25s ease-in-out;
    }
    
    .info-message:hover {
        background-color: rgba(40, 40, 40, 0.6);
        border-left-color: rgba(150, 150, 150, 0.7);
        transform: translateY(-2px);
    }
    
    .info-icon {
        flex: 0 0 35px;
        font-size: 18px;
        color: rgba(255, 255, 255, 0.7);
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding-top: 2px;
    }
    
    .info-text {
        flex: 1;
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.95rem;
        line-height: 1.5;
    }
    
    .bot-name, .channel-name {
        display: inline-block;
        color: #fff;
        font-weight: 500;
        background-color: rgba(40, 40, 40, 0.8);
        padding: 3px 8px;
        border-radius: 4px;
        letter-spacing: 0.3px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.2s ease;
        cursor: pointer;
    }
    
    .bot-name:hover, .channel-name:hover {
        background-color: rgba(50, 50, 50, 0.9);
        transform: translateY(-1px);
        border-color: rgba(255, 255, 255, 0.2);
    }
    
    .channel-info {
        margin-left: 5px;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .result-item {
        background-color: rgba(26, 26, 26, 0.8);
        border-radius: 14px;
        margin-bottom: 30px;
        border: 2px solid rgba(255, 255, 255, 0.15);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        opacity: 0;
        transform: translateY(15px);
        animation: fadeInUp 0.4s forwards;
        padding: 30px;
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
    }
    
    .result-item:hover {
        transform: translateY(-6px);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.5);
        border-color: rgba(255, 255, 255, 0.25);
        background-color: rgba(35, 35, 35, 0.8);
    }
    
    @keyframes fadeInUp {
        0% {
            opacity: 0;
            transform: translateY(15px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .result-item:nth-child(1) { animation-delay: 0.05s; }
    .result-item:nth-child(2) { animation-delay: 0.1s; }
    .result-item:nth-child(3) { animation-delay: 0.15s; }
    .result-item:nth-child(4) { animation-delay: 0.2s; }
    .result-item:nth-child(5) { animation-delay: 0.25s; }
    .result-item:nth-child(6) { animation-delay: 0.3s; }
    
    .result-item:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.35);
        border-color: rgba(255, 255, 255, 0.12);
        background-color: rgba(28, 28, 28, 0.5);
    }
    
    @keyframes slideIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .result-header {
        margin-bottom: 1.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        padding-bottom: 15px;
    }
    
    .result-database {
        font-size: 1.25rem;
        font-weight: 600;
        color: #fff;
        margin-bottom: 0.6rem;
        display: flex;
        align-items: center;
        gap: 10px;
        letter-spacing: 0.5px;
    }
    
    .result-description {
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.95rem;
        letter-spacing: 0.2px;
        line-height: 1.5;
        margin-bottom: 1.2rem;
    }
    
    .result-details {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        gap: 16px;
    }
    
    .detail-item {
        display: flex;
        align-items: flex-start;
        gap: 14px;
        margin-bottom: 0;
        padding: 16px 20px;
        background-color: rgba(15, 15, 15, 0.4);
        border-radius: 10px;
        transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
        border: 1px solid rgba(255, 255, 255, 0.03);
    }
    
    .detail-item:hover {
        background-color: rgba(30, 30, 30, 0.5);
        border-color: rgba(255, 255, 255, 0.08);
        transform: translateY(-3px);
    }
    
    .detail-label {
        color: rgba(255, 255, 255, 0.8);
        font-size: 1.2rem;
        min-width: 30px;
        display: flex;
        align-items: center;
        padding-top: 2px;
    }
    
    .detail-value {
        flex: 1;
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.9);
        word-break: break-word;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        flex-wrap: wrap;
        line-height: 1.5;
    }
    
    .field-value {
        max-width: 100%;
        margin-top: 4px;
        white-space: pre-line;
    }
    
    .field-label {
        font-weight: 600;
        margin-right: 10px;
        color: #fff;
        font-size: 0.9rem;
        background-color: rgba(30, 30, 35, 0.7);
        padding: 3px 8px;
        border-radius: 4px;
        display: inline-block;
        white-space: nowrap;
        margin-bottom: 4px;
    }
    
    #api-status-indicator.online {
        background-color: #4caf50;
        box-shadow: 0 0 5px #4caf50;
    }
    
    .results-footer {
        display: flex;
        justify-content: space-between;
        padding: 15px 22px;
        margin-top: 1.5rem;
        border-top: 1px solid rgba(255, 255, 255, 0.08);
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.95rem;
        letter-spacing: 0.2px;
        background-color: rgba(18, 18, 18, 0.3);
        border-radius: 10px;
        flex-wrap: wrap;
        gap: 12px;
    }
    
    .results-stat, .results-time {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .limit-message {
        background-color: rgba(40, 40, 40, 0.5);
        border-left: 3px solid rgba(200, 200, 200, 0.3);
        padding: 15px 20px;
        margin-top: 1.2rem;
        border-radius: 10px;
        font-size: 0.95rem;
        color: rgba(255, 255, 255, 0.8);
        display: flex;
        align-items: center;
        gap: 12px;
        letter-spacing: 0.2px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }
    
    .no-results-container {
        background-color: rgba(22, 22, 22, 0.4);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        padding: 3rem 2rem;
        margin-bottom: 2rem;
        text-align: center;
        display: none;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        animation: fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .no-results-icon {
        font-size: 3.5rem;
        color: rgba(255, 255, 255, 0.2);
        margin-bottom: 1.5rem;
        opacity: 0.8;
        animation: pulseIcon 2s infinite ease-in-out;
    }
    
    @keyframes pulseIcon {
        0% { transform: scale(1); opacity: 0.8; }
        50% { transform: scale(1.05); opacity: 0.9; }
        100% { transform: scale(1); opacity: 0.8; }
    }
    
    .no-results-title {
        font-size: 1.6rem;
        font-weight: 600;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 1rem;
        letter-spacing: 0.5px;
    }
    
    .no-results-info {
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 0.8rem;
        font-size: 1.05rem;
        letter-spacing: 0.2px;
    }
    
    .no-results-suggestion {
        color: rgba(255, 255, 255, 0.5);
        margin-bottom: 2rem;
        letter-spacing: 0.2px;
        font-size: 0.95rem;
    }
    
    .bot-help {
        background: linear-gradient(145deg, rgba(25, 25, 25, 0.7) 0%, rgba(20, 20, 20, 0.8) 100%);
        border-radius: 10px;
        padding: 1.8rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.08);
        margin-top: 30px;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    .bot-help:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
        border-color: rgba(255, 255, 255, 0.12);
    }
    
    .bot-help-icon {
        font-size: 2.2rem;
        color: #888888;
        opacity: 0.9;
    }
    
    .bot-help-text {
        text-align: left;
        color: rgba(255, 255, 255, 0.8);
        font-size: 1rem;
        flex: 1;
        letter-spacing: 0.3px;
        line-height: 1.6;
    }
    
    .bot-help-button {
        background-color: rgba(50, 50, 50, 0.8);
        color: white;
        padding: 10px 16px;
        border-radius: 6px;
        text-decoration: none;
        font-size: 0.95rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
        border: 1px solid rgba(255, 255, 255, 0.15);
        letter-spacing: 0.3px;
        white-space: nowrap;
    }
    
    .bot-help-button:hover {
        background-color: rgba(60, 60, 60, 0.9);
        transform: translateY(-2px);
        border-color: rgba(255, 255, 255, 0.25);
    }
    
    .bot-help-button:active {
        transform: translateY(1px);
    }
    
    .search-loader {
        display: none;
        text-align: center;
        padding: 2rem 0;
    }
    
    .loader {
        display: inline-block;
        width: 40px;
        height: 40px;
        border: 3px solid rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        border-top-color: #FFF;
        animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }
    
    @media (max-width: 768px) {
        .desktop-menu {
            display: none;
        }
        
        #Menu-bar {
            display: block;
        }
        
        .search-form,
        .search-results,
        .no-results-container {
            padding: 1.5rem;
        }
        
        .search-container {
            padding: 1rem 0;
        }
        
        .result-details {
            grid-template-columns: 1fr;
        }
        
        .bot-help {
            flex-direction: column;
            text-align: center;
        }
        
        .bot-help-text {
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .menu-data {
            width: 100%;
        }
        
        .logs-controls {
            flex-direction: column;
            align-items: flex-start;
        }
        
        .logs-filter {
            margin-top: 10px;
            flex-wrap: wrap;
        }
    }
    
        .error-message {
        display: flex;
        background-color: rgba(40, 40, 40, 0.5);
        border-left: 3px solid #666;
        padding: 18px;
        margin: 20px 0;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        transition: all 0.25s ease;
    }

    .error-message:hover {
        background-color: rgba(45, 45, 45, 0.6);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    }

    .error-icon {
        flex: 0 0 40px;
        font-size: 22px;
        color: #aaa;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding-top: 2px;
    }

    .error-text {
        flex: 1;
    }

    .error-text h3 {
        margin: 0 0 10px;
        color: #ddd;
        font-size: 16px;
        font-weight: 600;
        letter-spacing: 0.3px;
    }

    .error-text p {
        margin: 0;
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.95rem;
        line-height: 1.5;
    }

    .error-help {
        font-size: 14px;
        margin-top: 12px;
        color: rgba(255, 255, 255, 0.6);
        padding-top: 12px;
        border-top: 1px solid rgba(150, 150, 150, 0.2);
    }
    
    .result-error-container {
        margin-bottom: 20px;
        background-color: rgba(40, 40, 40, 0.5);
        border-radius: 8px;
        padding: 20px;
        border-left: 3px solid #777;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    
    .info-message {
        display: flex;
        background-color: rgba(40, 40, 40, 0.4);
        border-left: 4px solid #666;
        padding: 15px;
        margin: 15px 0;
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    .info-icon {
        flex: 0 0 40px;
        font-size: 22px;
        color: #888;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .info-text {
        flex: 1;
    }
    
    .info-text p {
        margin: 0;
        color: rgba(255, 255, 255, 0.7);
    }

    .modal {
        display: none;
        position: fixed;
        z-index: 1050;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: rgba(0,0,0,0.85);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }

    .modal-content {
        background-color: #121212;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.1);
        width: 90%;
        max-width: 1000px;
        margin: 30px auto;
        box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        max-height: calc(100vh - 60px);
        display: flex;
        flex-direction: column;
        animation: modalFadeIn 0.3s ease;
    }
    
    @keyframes modalFadeIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .modal-header {
        padding: 18px 24px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        display: flex;
        align-items: center;
        justify-content: space-between;
        background-color: rgba(0,0,0,0.2);
        border-radius: 12px 12px 0 0;
    }

    .modal-header h2 {
        margin: 0;
        font-size: 1.3rem;
        color: #fff;
        font-weight: 600;
        letter-spacing: 0.5px;
    }

    .modal-body {
        padding: 20px;
        overflow-y: hidden;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
    }

    .close-modal {
        color: #777;
        font-size: 26px;
        font-weight: normal;
        cursor: pointer;
        transition: color 0.2s ease;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
    }

    .close-modal:hover {
        color: #fff;
        background-color: rgba(255,255,255,0.1);
    }

    .logs-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
        flex-wrap: wrap;
        gap: 12px;
        background-color: rgba(0,0,0,0.2);
        padding: 12px;
        border-radius: 8px;
    }

    .logs-button {
        background-color: rgba(255,255,255,0.07);
        border: 1px solid rgba(255,255,255,0.1);
        color: #ddd;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 0.9rem;
        font-weight: 500;
        letter-spacing: 0.5px;
    }

    .logs-button:hover {
        background-color: rgba(255,255,255,0.12);
        transform: translateY(-1px);
    }

    .logs-filter {
        display: flex;
        gap: 15px;
    }

    .logs-filter label {
        display: flex;
        align-items: center;
        gap: 6px;
        color: #aaa;
        font-size: 0.9rem;
        cursor: pointer;
        transition: color 0.2s ease;
        padding: 3px 8px;
        border-radius: 4px;
    }
    
    .logs-filter label:hover {
        color: #fff;
        background-color: rgba(255,255,255,0.05);
    }

    .logs-container {
        background-color: #0A0A0A;
        border-radius: 8px;
        padding: 16px;
        overflow-y: auto;
        flex-grow: 1;
        font-family: 'Roboto Mono', monospace;
        font-size: 0.85rem;
        height: 450px;
        max-height: 60vh;
        border: 1px solid rgba(255,255,255,0.05);
        box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
    }

    #logs-content {
        margin: 0;
        white-space: pre-wrap;
        color: #bbb;
    }

    .log-entry {
        padding: 8px 10px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        white-space: pre-wrap;
        word-break: break-word;
        line-height: 1.5;
        font-size: 0.85rem;
        transition: background-color 0.2s ease;
        border-radius: 4px;
    }
    
    .log-entry:hover {
        background-color: rgba(255,255,255,0.03);
    }

    .log-entry pre {
        margin: 8px 0 0 0;
        padding: 10px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 4px;
        overflow-x: auto;
        border: 1px solid rgba(255,255,255,0.05);
    }

    .log-INFO {
        color: #bbb;
        border-left: 3px solid #555;
        padding-left: 12px;
    }

    .log-WARNING {
        color: #ccc;
        border-left: 3px solid #888;
        padding-left: 12px;
    }

    .log-ERROR {
        color: #eee;
        border-left: 3px solid #aaa;
        padding-left: 12px;
        background-color: rgba(255,255,255,0.03);
    }

    .log-DEBUG {
        color: #999;
        border-left: 3px solid #444;
        padding-left: 12px;
        font-size: 0.8rem;
    }
    
    .log-session-info {
        padding: 10px;
        margin-bottom: 15px;
        background-color: rgba(40, 40, 40, 0.3);
        border-radius: 5px;
        font-size: 0.9rem;
        color: #ddd;
    }
    
    .logs-section-header {
        font-weight: 600;
        font-size: 1rem;
        color: #ccc;
        margin: 15px 0 10px;
        padding: 5px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .log-divider {
        border: 0;
        height: 1px;
        background-image: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent);
        margin: 15px 0;
    }

    .floating-button {
        position: fixed;
        bottom: 24px;
        right: 24px;
        width: 48px;
        height: 48px;
        background-color: rgba(25,25,25,0.7);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #aaa;
        font-size: 18px;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        transition: all 0.3s ease;
        z-index: 1000;
        border: 1px solid rgba(255,255,255,0.1);
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
    }

    .floating-button:hover {
        background-color: rgba(40,40,40,0.8);
        transform: translateY(-3px);
        color: #fff;
        box-shadow: 0 6px 16px rgba(0,0,0,0.4);
    }

    .search-hint-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .debug-panel {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .debug-button {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.4);
        cursor: pointer;
        padding: 4px 8px;
        font-size: 0.85rem;
        display: flex;
        align-items: center;
        gap: 6px;
        transition: all 0.3s ease;
    }
    
    .debug-button:hover {
        color: rgba(255, 255, 255, 0.7);
    }
    
    #api-status-indicator {
        font-size: 10px;
    }
    
    .status-online {
        color: #aaa;
    }
    
    .status-offline {
        color: #777;
    }
    
    .status-checking {
        color: #999;
    }
    
    .server-selector {
        position: relative;
        display: inline-block;
    }
    
    .server-dropdown {
        display: none;
        position: absolute;
        right: 0;
        top: 100%;
        background-color: #1a1a1a;
        min-width: 180px;
        box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.3);
        z-index: 1;
        border-radius: 6px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        margin-top: 5px;
    }
    
    .server-dropdown.show {
        display: block;
    }
    
    .server-option {
        color: #ddd;
        padding: 10px 15px;
        text-decoration: none;
        display: block;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.2s ease;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .server-option:last-child {
        border-bottom: none;
    }
    
    .server-option:hover {
        background-color: rgba(255, 255, 255, 0.05);
    }
    
    .server-option.active {
        background-color: rgba(255, 255, 255, 0.1);
        color: #fff;
    }
    
    #current-server {
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .search-info .info-item.warning {
        color: #ccc;
        font-weight: bold;
    }
    
    .search-limit-indicator {
        margin-top: 10px;
        font-size: 14px;
        text-align: center;
        transition: all 0.3s ease;
        background-color: rgba(40, 40, 40, 0.4);
        border-left: 3px solid #555;
        padding: 10px 15px;
        border-radius: 6px;
    }
    
    .search-limit-indicator.warning {
        color: #ddd;
        font-weight: bold;
        animation: pulse 1.5s infinite;
        background-color: rgba(50, 50, 50, 0.5);
        border-left-color: #888;
    }
    
    @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.7; }
        100% { opacity: 1; }
    }
    
    .retry-button {
        background-color: rgba(50, 50, 50, 0.8);
        color: white;
        border: 1px solid rgba(255,255,255,0.15);
        padding: 10px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }
    
    .retry-button:hover {
        background-color: rgba(60, 60, 60, 0.9);
        transform: translateY(-2px);
        border-color: rgba(255,255,255,0.25);
    }
    
    .retry-button:active {
        transform: translateY(1px);
    }

    .show-more-button {
        background-color: rgba(40, 40, 40, 0.9);
        color: #ffffff;
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 4px;
        padding: 4px 8px;
        font-size: 12px;
        cursor: pointer;
        margin-top: 6px;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 5px;
        font-weight: 500;
    }
    
    .show-more-button:hover {
        background-color: rgba(60, 60, 60, 0.9);
        transform: translateY(-2px);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        border-color: rgba(255, 255, 255, 0.2);
    }
    
    .detail-item.load-success {
        animation: pulse-success 1s ease-in-out;
    }
    
    @keyframes pulse-success {
        0% { background-color: transparent; }
        30% { background-color: rgba(46, 204, 113, 0.15); }
        100% { background-color: transparent; }
    }
    
    .detail-item {
        display: flex;
        margin-bottom: 10px;
        padding: 12px 15px;
        border-radius: 8px;
        transition: background-color 0.3s ease;
    }
    
    .detail-item:hover {
        background-color: rgba(255, 255, 255, 0.05);
    }
    
    .detail-label {
        min-width: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        color: rgba(255, 255, 255, 0.6);
        margin-right: 15px;
    }
    
    .detail-value {
        flex: 1;
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.9);
        word-break: break-word;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        flex-wrap: wrap;
        line-height: 1.5;
    }
    
    .field-value {
        max-width: 100%;
        margin-top: 4px;
        white-space: pre-line;
    }
    
    .field-label {
        font-weight: 600;
        margin-right: 10px;
        color: #fff;
        font-size: 0.9rem;
        background-color: rgba(30, 30, 35, 0.7);
        padding: 3px 8px;
        border-radius: 4px;
        display: inline-block;
        white-space: nowrap;
        margin-bottom: 4px;
    }
    
    #api-status-indicator.online {
        background-color: #4caf50;
        box-shadow: 0 0 5px #4caf50;
    }
    
    #api-status-indicator.offline {
        background-color: #f44336;
        box-shadow: 0 0 5px #f44336;
    }
    
    .search-limit-row {
        display: none;
    }
    
    .cooldown-info {
        margin-top: 10px;
        font-size: 14px;
        text-align: center;
        background-color: rgba(40, 40, 40, 0.4);
        border-left: 3px solid #555;
        padding: 10px 15px;
        border-radius: 6px;
        color: rgba(255, 255, 255, 0.7);
    }
    
    #search-button.cooldown {
        background-color: #444;
        cursor: not-allowed;
        opacity: 0.7;
    }

    .cooldown-toast {
        position: fixed;
        top: 80px;
        left: 20px;
        background-color: rgba(18, 18, 18, 0.6);
        color: #fff;
        padding: 12px 15px;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        z-index: 9999;
        display: flex;
        align-items: center;
        min-width: 260px;
        border-left: 4px solid rgba(255, 152, 0, 0.8);
        transform: translateX(-120%);
        transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }
    
    .cooldown-toast.active {
        transform: translateX(0);
    }
    
    .cooldown-toast-icon {
        font-size: 1.2rem;
        margin-right: 12px;
        color: #ff9800;
    }
    
    .cooldown-toast-content {
        flex: 1;
    }
    
    .cooldown-toast-title {
        font-weight: 600;
        margin-bottom: 5px;
        font-size: 1rem;
    }
    
    .cooldown-toast-message {
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.8);
    }
    
    .cooldown-toast-progress {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3px;
        background-color: rgba(255, 152, 0, 0.6);
        width: 100%;
        transform-origin: left;
        animation: progress-shrink 90s linear forwards;
    }
    
    @keyframes progress-shrink {
        from { transform: scaleX(1); }
        to { transform: scaleX(0); }
    }

    #scrollToTop {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 50px;
        height: 50px;
        background-color: rgba(25, 25, 25, 0.5);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #fff;
        text-decoration: none;
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.1);
        z-index: 99;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #scrollToTop.visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    #scrollToTop:hover {
        background-color: rgba(35, 35, 35, 0.7);
        border-color: rgba(255, 255, 255, 0.2);
        transform: translateY(-3px);
    }

    @media (max-width: 768px) {
        #scrollToTop {
            right: 20px;
            bottom: 20px;
            width: 45px;
            height: 45px;
        }
    }

    .info-message {
        margin: 20px 0;
    }

    .telegram-info-box {
        display: flex;
        align-items: center;
        background-color: rgba(25, 25, 25, 0.4);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        animation: fadeInUp 0.5s ease-out forwards;
        animation-delay: 0.2s;
        opacity: 0;
    }

    .telegram-info-box:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        border-color: rgba(255, 255, 255, 0.15);
        background-color: rgba(30, 30, 30, 0.5);
    }

    .telegram-info-icon {
        background-color: rgba(40, 40, 40, 0.7);
        width: 50px;
        height: 50px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 20px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .telegram-info-box:hover .telegram-info-icon {
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        background-color: rgba(50, 50, 50, 0.7);
    }

    .telegram-info-icon i {
        font-size: 28px;
        color: rgba(255, 255, 255, 0.9);
    }

    .telegram-info-content {
        flex: 1;
    }

    .telegram-info-title {
        font-size: 18px;
        font-weight: 600;
        color: white;
        margin-bottom: 12px;
    }

    .telegram-info-details {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
    }

    .bot-name, .channel-info {
        background-color: rgba(20, 20, 25, 0.5);
        border-radius: 8px;
        padding: 8px 12px;
        font-size: 15px;
        color: rgba(255, 255, 255, 0.9);
        display: inline-flex;
        align-items: center;
        border: 1px solid rgba(255, 255, 255, 0.1);
        text-decoration: none;
        transition: all 0.3s ease;
    }
    
    .bot-name:hover, .channel-info:hover {
        background-color: rgba(25, 25, 30, 0.6);
        transform: translateY(-2px);
        border-color: rgba(255, 255, 255, 0.2);
        color: white;
    }

    .bot-name i, .channel-info i {
        margin-right: 6px;
        color: rgba(255, 255, 255, 0.7);
        font-size: 14px;
    }
    
    .bot-name:hover i, .channel-info:hover i {
        color: white;
    }

    .channel-name {
        font-weight: 600;
    }

    @media (max-width: 768px) {
        .telegram-info-box {
            flex-direction: column;
            text-align: center;
        }
        
        .telegram-info-icon {
            margin-right: 0;
            margin-bottom: 15px;
        }
        
        .telegram-info-details {
            justify-content: center;
        }
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—É–ª–¥–∞—É–Ω–µ */
    .cooldown-toast {
        display: none;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏ –ø–æ–∏—Å–∫–∞ */
    .search-button.searching {
        opacity: 0.7;
        cursor: not-allowed;
    }
    
    .search-button:disabled {
        opacity: 0.7;
        cursor: not-allowed;
    }

    .info-message.optimization-info {
        background-color: rgba(30, 30, 35, 0.4);
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.15);
        padding: 12px 15px;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 12px;
        transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        animation: fadeInUp 0.5s ease-out forwards;
    }
    
    .info-message.optimization-info:hover {
        background-color: rgba(35, 35, 40, 0.5);
        border-color: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
    }
    
    .info-message.optimization-info .info-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        background-color: rgba(60, 179, 113, 0.2);
        border-radius: 50%;
        color: #4CAF50;
        flex-shrink: 0;
    }
    
    .info-message.optimization-info .info-icon i {
        font-size: 16px;
    }
    
    .info-message.optimization-info .info-text {
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.8);
        line-height: 1.5;
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .toggle-optimization {
        background-color: rgba(60, 179, 113, 0.2);
        color: #4CAF50;
        border: 1px solid rgba(60, 179, 113, 0.3);
        border-radius: 6px;
        padding: 6px 12px;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        margin-left: auto;
    }
    
    .toggle-optimization:hover {
        background-color: rgba(60, 179, 113, 0.3);
        border-color: rgba(60, 179, 113, 0.4);
    }
    
    .toggle-optimization.off {
        background-color: rgba(180, 180, 180, 0.2);
        color: #aaa;
        border-color: rgba(180, 180, 180, 0.3);
    }
    
    .toggle-optimization.off:hover {
        background-color: rgba(180, 180, 180, 0.3);
        border-color: rgba(180, 180, 180, 0.4);
    }
    
    .toggle-optimization i {
        font-size: 1rem;
    }
</style>
</head>
<body>
<div id="navbar" class="navbar">
<a href="/index.html">
<img alt="ReFind" class="ref" loading="lazy" src="/assets/img/jasdjasdj.png"/>
</a>
<div class="desktop-menu">
<a href="/index.html" class="nav-button">–ì–ª–∞–≤–Ω–∞—è</a>
<a href="/news.html" class="nav-button">–ù–æ–≤–æ—Å—Ç–∏</a>
<a href="/api.html" class="nav-button">API</a>
<a href="/search.html" class="nav-button active">–ü–æ–∏—Å–∫</a>
</div>
<div id="Menu-bar">
<i class="fas fa-bars size-icon"></i>
</div>
</div>
<div class="menu-data">
<a href="/index.html">–ì–ª–∞–≤–Ω–∞—è</a>
<a href="/news.html">–ù–æ–≤–æ—Å—Ç–∏</a>
<a href="/api.html">API</a>
<a href="/search.html">–ü–æ–∏—Å–∫</a>
<div id="close">
<i class="fas fa-times"></i>
</div>
</div>

<div class="hero-section">
    <div class="search-container">
        <div class="search-form">
            <div class="search-input-group">
                <input type="text" id="phone-input" class="search-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" pattern="\d*" inputmode="numeric"/>
                <button id="search-button" class="search-button">–ü–æ–∏—Å–∫ <i class="fas fa-search"></i></button>
            </div>
            <div class="search-error" id="phone-error"></div>
            <div class="search-hint-row">
            <div class="search-hint">
                    <i class="fas fa-info-circle"></i> –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –≤ –ª—é–±–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä: 79999999999
                </div>
                <div class="debug-panel">
                    <a href="#" class="debug-button" id="check-api" title="–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å API">
                        <span id="api-status-indicator"></span> API
                    </a>
                </div>
            </div>
            <div class="search-limit-row">
                <div class="search-limit-indicator">
                    <i class="fas fa-search"></i> –û—Å—Ç–∞–ª–æ—Å—å –∑–∞–ø—Ä–æ—Å–æ–≤: <span id="search-limit" class="search-limit-count">10</span>
                </div>
            </div>
        </div>
        
        <div id="search-loader" class="search-loader">
            <div class="loader"></div>
            <p style="margin-top: 15px; color: rgba(255, 255, 255, 0.7);">–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–∏—Å–∫...</p>
        </div>
        
        <div id="search-results" class="search-results">
            <div class="results-header">
                <h2 class="results-title" id="results-title"></h2>
            </div>
            
            <div id="results-container">
                
            </div>
            
            <div class="info-message" id="telegram-info">
                <div class="telegram-info-box">
                    <div class="telegram-info-icon">
                        <i class="fab fa-telegram"></i>
                    </div>
                    <div class="telegram-info-content">
                        <div class="telegram-info-title">–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Telegram</div>
                        <div class="telegram-info-details">
                            <a href="https://t.me/ReFindOsintBot" target="_blank" class="bot-name">
                                <i class="fas fa-robot"></i> @ReFindOsintBot
                            </a>
                            <a href="https://t.me/python_enter" target="_blank" class="channel-info">
                                <i class="fas fa-bullhorn"></i> –ö–∞–Ω–∞–ª: <span class="channel-name">@python_enter</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="results-footer">
                <div class="results-stat">
                    üóÉ –ü–æ–∫–∞–∑–∞–Ω–æ: <span id="db-count">0</span> –±–∞–∑
                </div>
                <div class="results-time">
                    <i class="fas fa-clock"></i> –í—Ä–µ–º—è: <span id="search-time">0</span> —Å–µ–∫.
                </div>
            </div>
            
            <div class="limit-message" id="limit-message" style="display: none;">
                <i class="fas fa-exclamation-circle"></i> –ü–æ–∫–∞–∑–∞–Ω—ã –ø–µ—Ä–≤—ã–µ <span id="shown-count">0</span> –∏–∑ <span id="total-count">0</span> —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –±–æ—Ç–∞.
            </div>
        </div>
        
        <div id="no-results" class="no-results-container">
            <div class="no-results-icon">
                <i class="fas fa-search-minus"></i>
            </div>
            <h3 class="no-results-title">–ü–æ –∑–∞–ø—Ä–æ—Å—É –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –¥–∞–Ω–Ω—ã—Ö</h3>
            <p class="no-results-info">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ <span id="not-found-number"></span> –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö</p>
            <p class="no-results-suggestion">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</p>
            
            <div class="result-error-container" id="result-error-container">
                <div class="result-error-message">–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É API</div>
                <div class="error-help">–í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ —Å–µ—Ä–≤–µ—Ä–∞</div>
                <div class="search-actions">
                    <button class="retry-button" onclick="startSearch();" style="background-color: #333; color: white; border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; font-weight: 500; transition: all 0.3s ease;">
                        <i class="fas fa-redo"></i> –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–∏—Å–∫
                    </button>
                </div>
            </div>
            
            <div class="bot-help">
                <div class="bot-help-icon">
                    <i class="fab fa-telegram"></i>
                </div>
                <div class="bot-help-text">
                    –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –ø–æ–∏—Å–∫–æ–º?<br>
                    –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞—à–µ–º—É –±–æ—Ç—É: <span class="bot-name">@ReFindOsintBot</span>
                </div>
                <a href="#" class="bot-help-button retry-button" id="open-bot" style="background-color: #333; color: white; border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; font-weight: 500; transition: all 0.3s ease;">
                    –û—Ç–∫—Ä—ã—Ç—å <i class="fas fa-external-link-alt"></i>
                </a>
            </div>
        </div>
    </div>
</div>

<script>
    // –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ReFind
    window.ReFind = window.ReFind || {};
    window.ReFind.config = window.ReFind.config || {
        api_key: '5386c7fd-f568-49f8-a36e-db8d2e705bdc',
        remainingSearches: 10
    };

    document.addEventListener('DOMContentLoaded', function() {
        // –°—Ç–∏–ª–∏ –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å—Ç–∞—Ç—É—Å–∞ API
        const style = document.createElement('style');
        style.textContent = `
            #api-status-indicator {
                display: inline-block;
                width: 12px;
                height: 12px;
                border-radius: 50%;
                margin-right: 5px;
                vertical-align: middle;
                transition: all 0.3s ease;
            }
            
            #api-status-indicator.online {
                background-color: #4caf50;
                box-shadow: 0 0 5px #4caf50;
            }
            
            #api-status-indicator.offline {
                background-color: #f44336;
                box-shadow: 0 0 5px #f44336;
            }
            
            #api-status-indicator.checking {
                background-color: #ff9800;
                box-shadow: 0 0 5px #ff9800;
                animation: pulse 1s infinite;
            }
            
            @keyframes pulse {
                0% { opacity: 1; }
                50% { opacity: 0.5; }
                100% { opacity: 1; }
            }
        `;
        document.head.appendChild(style);

        // –ù–∞—Ö–æ–¥–∏–º –∏–ª–∏ —Å–æ–∑–¥–∞—ë–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ API
        let apiStatusIndicator = document.getElementById('api-status-indicator');
        if (!apiStatusIndicator) {
            // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞–µ–º –µ–≥–æ
            apiStatusIndicator = document.createElement('span');
            apiStatusIndicator.id = 'api-status-indicator';
            apiStatusIndicator.className = 'checking';
            apiStatusIndicator.title = '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å API...';
            
            // –ù–∞—Ö–æ–¥–∏–º –ø–∞–Ω–µ–ª—å —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º
            const checkApiButton = document.getElementById('check-api');
            if (checkApiButton) {
                // –í—Å—Ç–∞–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –∫–Ω–æ–ø–∫–∏
                checkApiButton.insertBefore(apiStatusIndicator, checkApiButton.firstChild);
            }
        } else {
            // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–±–Ω–æ–≤–ª—è–µ–º –µ–≥–æ —Å—Ç–∏–ª—å
            apiStatusIndicator.className = 'checking';
            apiStatusIndicator.innerHTML = '';
            apiStatusIndicator.title = '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å API...';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è API
        function checkApiStatus() {
            if (!apiStatusIndicator) return;

            apiStatusIndicator.className = 'checking';
            apiStatusIndicator.title = '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å API...';
            
            // –ü–æ–ª—É—á–∞–µ–º URL —Ç–µ–∫—É—â–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
            const baseUrl = window.location.protocol + '//' + window.location.host;
            const apiKey = window.ReFind && window.ReFind.config ? window.ReFind.config.api_key : '5386c7fd-f568-49f8-a36e-db8d2e705bdc';
            const testUrl = `${baseUrl}/search?phone=79999999999&api_key=${apiKey}`;

            // –ò—Å–ø–æ–ª—å–∑—É–µ–º JSONP –¥–ª—è –æ–±—Ö–æ–¥–∞ CORS
            if (window.ReFind && window.ReFind.api && window.ReFind.api.jsonpRequest) {
                window.ReFind.api.jsonpRequest(testUrl, function(data) {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
                    if (data && !data.error && data.results && Array.isArray(data.results)) {
                        // API —Ä–∞–±–æ—Ç–∞–µ—Ç
                        apiStatusIndicator.className = 'online';
                        apiStatusIndicator.title = 'API –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç';
                    } else {
                        // –û—à–∏–±–∫–∞ API
                        apiStatusIndicator.className = 'offline';
                        apiStatusIndicator.title = data && data.error ? `API –æ—à–∏–±–∫–∞: ${data.error}` : 'API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É';
                    }
                });
            } else {
                // –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è JSONP –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ã—á–Ω—ã–π fetch
                fetch(`${baseUrl}/api/status`, {
                    method: 'GET',
                    cache: 'no-cache'
                })
                .then(response => {
                    if (response.ok) {
                        return response.json().then(data => {
                            apiStatusIndicator.className = 'online';
                            apiStatusIndicator.title = 'API –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç';
                        }).catch(() => {
                            // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å JSON, –Ω–æ –æ—Ç–≤–µ—Ç –ø—Ä–∏—à–µ–ª - —Å—á–∏—Ç–∞–µ–º API —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–º
                            apiStatusIndicator.className = 'online';
                            apiStatusIndicator.title = 'API –¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–∞–Ω–Ω—ã–º–∏';
                        });
                    } else {
                        apiStatusIndicator.className = 'offline';
                        apiStatusIndicator.title = `API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${response.status}`;
                    }
                })
                .catch(() => {
                    // –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π, —Å—á–∏—Ç–∞–µ–º API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º
                    apiStatusIndicator.className = 'offline';
                    apiStatusIndicator.title = 'API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω';
                });
            }
        }

        // –ü–µ—Ä–≤–∏—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ API
        checkApiStatus();

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ - –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
        setInterval(checkApiStatus, 10 * 60 * 1000); // 10 –º–∏–Ω—É—Ç

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
        const checkApiButton = document.getElementById('check-api');
        if (checkApiButton) {
            checkApiButton.addEventListener('click', function(e) {
                e.preventDefault();
                checkApiStatus();
            });
        }
    });
</script>

<script>
// –°–ª–æ–≤–∞—Ä—å –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π
const FIELD_TRANSLATIONS = {
    'password': 'üîê –ü–∞—Ä–æ–ª—å (–≤ —Ö—ç—à–µ)',
    'currency': 'ü™ô –í–∞–ª—é—Ç–∞',
    'last_ip': 'üì± IP –∞–¥—Ä–µ—Å',
    'last_ip_country': 'üá∑üá∫ –†–µ–≥–∏–æ–Ω',
    'name': 'üë§ –ò–º—è',
    'phone': 'üìû –¢–µ–ª–µ—Ñ–æ–Ω',
    'email': 'üñ• –≠–ª. –ø–æ—á—Ç–∞',
    'address': 'üè† –ê–¥—Ä–µ—Å',
    'dob': 'üìÖ –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è',
    'collection': 'üíß –£—Ç–µ—á–∫–∞ –∏–∑',
    'date': 'üóì –î–∞—Ç–∞',
    '–∞–¥—Ä–µ—Å': 'üè† –ê–¥—Ä–µ—Å',
    '–ò–º—è': 'üë§ –ò–º—è', 
    '–§–∞–º–∏–ª–∏—è': 'üßç‚Äç‚ôÇÔ∏è –§–∞–º–∏–ª–∏—è', 
    '–û—Ç—á–µ—Å—Ç–≤–æ': 'üë®‚Äçü¶≥ –û—Ç—á–µ—Å—Ç–≤–æ', 
    '–ö–ª–∞—Å—Å': 'üè´ –ö–ª–∞—Å—Å –≤ —à–∫–æ–ª–µ',
    '–õ–∏—Ç–µ—Ä–∞ –∫–ª–∞—Å—Å–∞': 'üî† –ë—É–∫–≤–∞ –∫–ª–∞—Å—Å–∞',
    '–ê–¥—Ä–µ—Å': 'üè† –ê–¥—Ä–µ—Å',
    '–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è': 'üéí –®–∫–æ–ª–∞',
    'tags': '#Ô∏è‚É£ –¢–µ–≥–∏',
    'phone_clear': 'üìû –¢–µ–ª–µ—Ñ–æ–Ω',
    'birthday': 'üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è',
    'card_hash': 'üí≥ –ö–∞—Ä—Ç–∞(–≤ —Ö—ç—à–µ)',
    'city': 'üåá –ì–æ—Ä–æ–¥',
    'birth_date': 'üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è',
    'info_dom_kvartira': 'üåÜ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–º–µ',
    'region': 'üá∑üá∫ –†–µ–≥–∏–æ–Ω', 
    'field1': '#Ô∏è‚É£ –¢–µ–≥',
    'field2': '#Ô∏è‚É£ –¢–µ–≥',
    'field3': '#Ô∏è‚É£ –¢–µ–≥',
    'field4': '#Ô∏è‚É£ –¢–µ–≥',
    'field5': '#Ô∏è‚É£ –¢–µ–≥',
    'status': 'üü¢ –°—Ç–∞—Ç—É—Å',
    '–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏': 'üîÑ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏',
    'hasCard': 'üí≥ –ù–∞–ª–∏—á–∏–µ –∫–∞—Ä—Ç—ã',
    'date': 'üóì –î–∞—Ç–∞',
    "first_name": 'üë§ –ò–º—è',
    "last_name": "üßç‚Äç‚ôÇÔ∏è –§–∞–º–∏–ª–∏—è",
    "pic_max": "üì∏ –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ",
    "external_share_link": "üîó –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å –û–ö",
    "registered_date": 'üîÑ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏',
    "birthdate": 'üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è',
    'document': 'üõÇ –£–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏',
    "passport_date": 'üìÖ –î–∞—Ç–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞',
    "Password": 'üîê –ü–∞—Ä–æ–ª—å (–≤ —Ö—ç—à–µ)',
    "Gender": 'üöπ –ü–æ–ª',
    "Date of Birth": 'üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è',
    "Location": 'üè† –ê–¥—Ä–µ—Å',
    "CreditCard": 'üí≥ –ö–∞—Ä—Ç–∞',
    "BDay": 'üìÖ –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è',
    "CardExpiration": '‚è≥ –î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è',
    "address_entrance": 'üè† –ê–¥—Ä–µ—Å',
    "field8": 'üè† –î–æ–ø. –ü–æ–ª–µ –∞–¥—Ä–µ—Å–∞',
    "field9": 'üè† –î–æ–ø. –ü–æ–ª–µ –∞–¥—Ä–µ—Å–∞',
    "username": 'üó£ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'
};

// –û–±—ä—è–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é displayResults –≥–ª–æ–±–∞–ª—å–Ω–æ
function displayResults(data, phoneNumber) {
    console.log('–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è:', phoneNumber, '–ù–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π:', data.results ? data.results.length : 0);
    
    // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã DOM
        const resultsContainer = document.getElementById('results-container');
    const searchResults = document.getElementById('search-results');
        const noResults = document.getElementById('no-results');
        const resultsTitle = document.getElementById('results-title');
    const notFoundNumber = document.getElementById('not-found-number');
        const dbCount = document.getElementById('db-count');
        const searchTime = document.getElementById('search-time');
        const limitMessage = document.getElementById('limit-message');
        const shownCount = document.getElementById('shown-count');
        const totalCount = document.getElementById('total-count');
        
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    if (!resultsContainer) {
        console.error('–≠–ª–µ–º–µ–Ω—Ç results-container –Ω–µ –Ω–∞–π–¥–µ–Ω');
        return;
    }
    
    // –û—á–∏—â–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    resultsContainer.innerHTML = '';
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫–∏ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
    dbCount.textContent = '0';
    searchTime.textContent = '0.00';
    limitMessage.style.display = 'none';
    
    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
    const formattedPhone = phoneNumber.replace(/(\d)(\d{3})(\d{3})(\d{2})(\d{2})/, "$1 ($2) $3-$4-$5");
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –∫ –∑–∞–≥–æ–ª–æ–≤–∫—É
    resultsTitle.innerHTML = `<i class="fas fa-search"></i> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –¥–ª—è ${formattedPhone}`;
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–∏—Å–∫–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–µ–π showFullText
    if (!window.ReFind) window.ReFind = {};
    window.ReFind.lastSearchResults = data;
    
    if (data.error) {
                searchResults.style.display = 'none';
        noResults.style.display = 'block';
        notFoundNumber.textContent = formattedPhone;
        
        // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—à–∏–±–∫–∏ –∏ –∫–Ω–æ–ø–∫–∏
        const existingErrorMessages = noResults.querySelectorAll('.error-message');
        existingErrorMessages.forEach(el => el.remove());
        
        const existingActionDivs = noResults.querySelectorAll('.search-actions');
        existingActionDivs.forEach(el => el.remove());
        
        // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –æ—à–∏–±–∫–∏
        const errorElement = document.createElement('div');
        errorElement.className = 'error-message';
        
        let errorMessage = data.error;
        let errorHelp = '';
        
        if (typeof errorMessage === 'object') {
            try {
                errorMessage = JSON.stringify(errorMessage);
            } catch (e) {
                errorMessage = '–û—à–∏–±–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞';
            }
        }
        
        errorElement.innerHTML = `
            <div class="error-icon"><i class="fas fa-exclamation-circle"></i></div>
            <div class="error-text">
                <h3>–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ</h3>
                <p>${errorMessage}</p>
                ${errorHelp ? `<div class="error-help">${errorHelp}</div>` : ''}
            </div>
        `;
        
        noResults.appendChild(errorElement);
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–≤—Ç–æ—Ä–∞
        const retryButton = document.createElement('button');
        retryButton.className = 'bot-help-button retry-button';
        retryButton.innerHTML = '<i class="fas fa-redo"></i> –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–∏—Å–∫';
        retryButton.style.marginTop = '20px';
        retryButton.onclick = function() {
            if (typeof startSearch === 'function') {
                startSearch();
            } else {
                console.error('–§—É–Ω–∫—Ü–∏—è startSearch –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞');
            }
        };
        
        const actionDiv = document.createElement('div');
        actionDiv.className = 'search-actions';
        actionDiv.style.marginTop = '20px';
        actionDiv.appendChild(retryButton);
        noResults.appendChild(actionDiv);
        
        return;
    }
    
    if (!data.results || data.results.length === 0) {
        searchResults.style.display = 'none';
        noResults.style.display = 'block';
        notFoundNumber.textContent = formattedPhone;
        return;
    }
    
    // –û—á–∏—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    if (data.results) {
        data.results = data.results.map(result => cleanupResultData(result));
    }
    
    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, —É–±–∏—Ä–∞—è –∑–∞–ø–∏—Å–∏ —Å "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —É—Ç–µ—á–∫–∞"
    const filteredResults = data.results.filter(result => {
        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —É—Ç–µ—á–∫–∞" –≤ –ø–æ–ª–µ explain
        if (result.explain && result.explain === "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —É—Ç–µ—á–∫–∞") {
            return false;
        }
        return true;
    });
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Å—Ç–∞–ª–∏—Å—å –ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    if (filteredResults.length === 0) {
        searchResults.style.display = 'none';
        noResults.style.display = 'block';
        notFoundNumber.textContent = formattedPhone;
        return;
    }
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π
    searchResults.style.opacity = '0';
    searchResults.style.display = 'block';
    noResults.style.display = 'none';
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ—è–≤–ª–µ–Ω–∏—è
    setTimeout(() => {
        searchResults.style.opacity = '1';
        searchResults.style.transition = 'opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1)';
    }, 10);
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
    const totalFound = filteredResults.length;
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    const optimizationInfo = document.createElement('div');
    optimizationInfo.className = 'info-message optimization-info';
    optimizationInfo.innerHTML = `
        <div class="info-icon"><i class="fas fa-check-circle"></i></div>
        <div class="info-text">
            –î–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã –æ—Ç –º—É—Å–æ—Ä–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.
        </div>
        <button id="toggle-optimization" class="toggle-optimization">
            <i class="fas fa-toggle-on"></i> <span>–í—ã–∫–ª—é—á–∏—Ç—å</span>
        </button>
    `;
    resultsContainer.appendChild(optimizationInfo);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    setTimeout(() => {
        const toggleBtn = document.getElementById('toggle-optimization');
        if (toggleBtn) {
            toggleBtn.addEventListener('click', function() {
                // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
                const isOptimized = !this.classList.contains('off');
                
                if (isOptimized) {
                    // –í—ã–∫–ª—é—á–∞–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
                    this.classList.add('off');
                    this.innerHTML = '<i class="fas fa-toggle-off"></i> <span>–í–∫–ª—é—á–∏—Ç—å</span>';
                    
                    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏
                    displayResultsWithoutOptimization(window.ReFind.lastSearchResults, phoneNumber);
                } else {
                    // –í–∫–ª—é—á–∞–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
                    this.classList.remove('off');
                    this.innerHTML = '<i class="fas fa-toggle-on"></i> <span>–í—ã–∫–ª—é—á–∏—Ç—å</span>';
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
                    displayResultsWithOptimization(window.ReFind.lastSearchResults, phoneNumber);
                }
            });
        }
    }, 500);
    
    // –°—Ç–∏–ª–∏–∑—É–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    const resultCards = document.createElement('div');
    resultCards.className = 'result-cards';
    resultCards.style.marginTop = '20px';
    
    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –í–°–ï —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    filteredResults.forEach((result, index) => {
        const resultCard = createResultCard(result, index);
        if (resultCard) {  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–∞—Ä—Ç–æ—á–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
            resultCards.appendChild(resultCard);
        }
    });
    
    resultsContainer.appendChild(resultCards);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏ –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    dbCount.textContent = filteredResults.length;
    searchTime.textContent = (data.searchTime || data.execution_time || 0).toFixed(2);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    if (data.limited || (totalFound > filteredResults.length)) {
        limitMessage.style.display = 'flex';
        shownCount.textContent = filteredResults.length;
        totalCount.textContent = totalFound;
    } else {
        limitMessage.style.display = 'none';
    }
    
    // –ü–ª–∞–≤–Ω–æ —Å–∫—Ä–æ–ª–ª–∏–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
    setTimeout(() => {
        searchResults.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }, 300);
}

// –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é createResultCard, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ —Ö–≤–∞—Ç–∞–ª–æ
        function createResultCard(result, index) {
    if (!result) return null;
                
    const MAX_DETAIL_LENGTH = 150;
                const resultElement = document.createElement('div');
                resultElement.className = 'result-item';
    resultElement.setAttribute('data-index', index);
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–æ 6, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
    const animationIndex = Math.min(index, 5);
    resultElement.style.animationDelay = `${0.05 * animationIndex}s`;
    
    // –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
    const database = result.database || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –±–∞–∑–∞';
    const description = result.explain || result.description || '–°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ —ç—Ç–æ–º—É –Ω–æ–º–µ—Ä—É';
    
    // –í—ã–±–∏—Ä–∞–µ–º –∏–∫–æ–Ω–∫—É –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∑–≤–∞–Ω–∏—è
    let databaseIcon = 'üóÉ';
    const dbNameLower = database.toLowerCase();
    
    if (dbNameLower.includes('phone') || dbNameLower.includes('–Ω–æ–º–µ—Ä') || 
        dbNameLower.includes('—Ç–µ–ª–µ') || dbNameLower.includes('call')) {
        databaseIcon = 'üìû';
    } else if (dbNameLower.includes('vk') || dbNameLower.includes('–≤–∫–æ–Ω—Ç–∞–∫—Ç') || 
               dbNameLower.includes('—Å–æ—Ü') || dbNameLower.includes('–ø—Ä–æ—Ñ–∏–ª')) {
        databaseIcon = 'üë§';
    } else if (dbNameLower.includes('telegram') || dbNameLower.includes('—Ç–µ–ª–µ–≥—Ä–∞–º')) {
        databaseIcon = 'üì±';
    } else if (dbNameLower.includes('email') || dbNameLower.includes('mail') || 
               dbNameLower.includes('–ø–æ—á—Ç')) {
        databaseIcon = 'üìß';
    }
    
    const headerHTML = `
                    <div class="result-header">
            <div class="result-database">
                ${databaseIcon} ${database}
            </div>
                        <div class="result-description">${description}</div>
                    </div>
                `;
                
    // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–µ—Ç–∞–ª–∏
                let detailsHTML = '<div class="result-details">';
                
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª—è data
                if (result.data && typeof result.data === 'object') {
                    // –ò—Å–∫–ª—é—á–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—è –∏ –¥—É–±–ª–∏–∫–∞—Ç—ã
        const skipFields = ['id', '_id', 'database', 'source', 'icon', 'description', 'explain', '_masked'];
                    const addedFields = [];
                    
                    Object.entries(result.data).forEach(([key, value]) => {
            // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ª—É–∂–µ–±–Ω—ã–µ –ø–æ–ª—è, –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –¥—É–±–ª–∏–∫–∞—Ç—ã
            if (skipFields.includes(key) || key.endsWith('_full') || key.endsWith('_truncated') || 
                !value || value === "" || addedFields.includes(key.toLowerCase())) {
                return;
            }
                        
                        addedFields.push(key.toLowerCase());
                        const icon = getIconForDataType(key);
                        
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞—Å–∫–∏—Ä–æ–≤–∫—É –∫ –¥–∞–Ω–Ω—ã–º
            const maskedValue = maskSensitiveData(value, key);
        
            const origValue = String(maskedValue);
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞ –¥–æ 150 —Å–∏–º–≤–æ–ª–æ–≤
            let displayValue = origValue;
            let showMoreButton = '';
            
            if (origValue.length > 150) {
                displayValue = origValue.substring(0, 150) + '...';
                showMoreButton = `<button class="show-more-button" onclick="showFullText(this, '${key}', ${index})"><i class="fas fa-plus-circle"></i> –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é</button>`;
            }
        
            // –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—è –µ—Å–ª–∏ –µ—Å—Ç—å
            let fieldLabel = key;
            if (FIELD_TRANSLATIONS[key]) {
                fieldLabel = FIELD_TRANSLATIONS[key];
            } else {
                // –ü–æ–∏—Å–∫ –ø–æ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
                const keyLower = key.toLowerCase();
                for (const dictKey in FIELD_TRANSLATIONS) {
                    if (dictKey.toLowerCase() === keyLower) {
                        fieldLabel = FIELD_TRANSLATIONS[dictKey];
                        break;
                    }
                }
            }
                    
                        detailsHTML += `
                <div class="detail-item" data-field="${key}">
                                <div class="detail-label">${icon}</div>
                    <div class="detail-value">
                        <span class="field-label">${fieldLabel}</span>
                        <span class="field-value">${displayValue}</span>
                        ${showMoreButton}
                    </div>
                            </div>
                        `;
                    });
                }
                
                // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é
                    const fieldChecks = [
                        { field: 'phone', icon: 'üìû' },
                        { field: 'email', icon: 'üñ•' },
                        { field: 'name', icon: 'üë§' },
                        { field: 'surname', icon: 'üßç‚Äç‚ôÇÔ∏è' },
                        { field: 'address', icon: 'üè†' },
                        { field: 'username', icon: 'üó£' },
                        { field: 'passport', icon: 'üõÇ' },
                        { field: 'city', icon: 'üåá' },
                        { field: 'birthday', icon: 'üéÇ' },
                        { field: 'job', icon: 'üíº' },
                        { field: 'company', icon: 'üè¢' },
                        { field: 'tags', icon: '#Ô∏è‚É£' },
                    ];
                    
                const addedFields = [];
                    for (const check of fieldChecks) {
                    if (result[check.field] && !addedFields.includes(check.field)) {
                            let value = result[check.field];
                            
                            if (Array.isArray(value)) {
                                value = value.join(', ');
                            }
        
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞—Å–∫–∏—Ä–æ–≤–∫—É –∫ –¥–∞–Ω–Ω—ã–º
            const maskedValue = maskSensitiveData(value, check.field);
        
            const origValue = String(maskedValue);
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞ –¥–æ 150 —Å–∏–º–≤–æ–ª–æ–≤
            let displayValue = origValue;
            let showMoreButton = '';
            
            if (origValue.length > 150) {
                displayValue = origValue.substring(0, 150) + '...';
                showMoreButton = `<button class="show-more-button" onclick="showFullText(this, '${check.field}', ${index})"><i class="fas fa-plus-circle"></i> –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é</button>`;
            }
        
            // –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—è –µ—Å–ª–∏ –µ—Å—Ç—å
            let fieldLabel = check.field;
            if (FIELD_TRANSLATIONS[check.field]) {
                fieldLabel = FIELD_TRANSLATIONS[check.field];
            } else {
                // –ü–æ–∏—Å–∫ –ø–æ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
                const keyLower = check.field.toLowerCase();
                for (const dictKey in FIELD_TRANSLATIONS) {
                    if (dictKey.toLowerCase() === keyLower) {
                        fieldLabel = FIELD_TRANSLATIONS[dictKey];
                        break;
                    }
                }
            }
                            
                        addedFields.push(check.field);
                            detailsHTML += `
                <div class="detail-item" data-field="${check.field}">
                                    <div class="detail-label">${check.icon}</div>
                    <div class="detail-value">
                        <span class="field-label">${fieldLabel}</span>
                        <span class="field-value">${displayValue}</span>
                        ${showMoreButton}
                    </div>
                                </div>
                            `;
                    }
                }
                
                detailsHTML += '</div>';
                
                resultElement.innerHTML = headerHTML + detailsHTML;
                
                resultElement.setAttribute('data-secure', 'true');
                resultElement.setAttribute('data-masked', 'true');
    
                if (result.secure_token) {
                    resultElement.setAttribute('data-token', result.secure_token);
                }
                
            return resultElement;
        }
        
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞
function limitTextLength(text, maxLength) {
    if (!text || typeof text !== 'string') return '';
    if (text.length <= maxLength) return text;
    return text.substring(0, maxLength) + '...';
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
function maskSensitiveData(value, fieldType) {
    if (!value || typeof value !== 'string') return value;
    
    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å—Ç—Ä–æ–∫—É, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Å—Ç—Ä–æ–∫–∞
    const strValue = String(value);
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø–æ–ª—è –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
    const fieldLower = fieldType.toLowerCase();
    
    // –ù–µ –º–∞—Å–∫–∏—Ä—É–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
    if (fieldLower.includes('city') || fieldLower.includes('–≥–æ—Ä–æ–¥') || 
        fieldLower.includes('company') || fieldLower.includes('tags') || 
        fieldLower.includes('—Ç–µ–≥') || fieldLower.includes('tag') ||
        fieldLower.includes('service') || fieldLower.includes('—Å–µ—Ä–≤–∏—Å') ||
        fieldLower.includes('field1') || fieldLower.includes('field2') || 
        fieldLower.includes('field3') || fieldLower.includes('field4') || 
        fieldLower.includes('field5')) {
        return strValue;
    }
    
    // –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ (—Å–∫—Ä—ã–≤–∞–µ–º —Ü–∏—Ñ—Ä—ã –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ)
    if (fieldLower.includes('phone') || fieldLower === 't' || fieldLower === 'number' || 
        fieldLower.includes('—Ç–µ–ª–µ—Ñ–æ–Ω') || fieldLower.includes('–Ω–æ–º–µ—Ä')) {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞
        const phoneMatch = strValue.match(/(\d+)/g);
        if (phoneMatch && phoneMatch[0].length >= 10) {
            const phone = phoneMatch[0];
            // –û—Å—Ç–∞–≤–ª—è–µ–º –≤–∏–¥–∏–º—ã–º–∏ –ø–µ—Ä–≤—ã–µ 4 –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Ü–∏—Ñ—Ä—ã
            const prefix = phone.substring(0, 4);
            const suffix = phone.substring(phone.length - 2);
            const maskedPart = '*'.repeat(phone.length - 6);
            return strValue.replace(phone, prefix + maskedPart + suffix);
        }
    }
    
    // –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ email (–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–æ–≤–∏–Ω—É –ª–æ–∫–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏)
    if (fieldLower.includes('mail') || fieldLower === 'e' || fieldLower.includes('–ø–æ—á—Ç–∞')) {
        const parts = strValue.split('@');
        if (parts.length === 2) {
            const localPart = parts[0];
            const domain = parts[1];
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ–ª–æ–≤–∏–Ω—É –ª–æ–∫–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏
            const visibleChars = Math.max(Math.ceil(localPart.length / 2), 2);
            const maskedLocal = localPart.substring(0, visibleChars) + '*'.repeat(Math.max(1, localPart.length - visibleChars));
            
            return `${maskedLocal}@${domain}`;
        }
    }
    
    // –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –∏–º–µ–Ω –∏ —Ñ–∞–º–∏–ª–∏–π (–º–µ–Ω–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è)
    if (fieldLower.includes('name') || fieldLower.includes('–∏–º—è') || 
        fieldLower === 'fio' || fieldLower === 'fullname' || fieldLower === '–§–ò–û' ||
        fieldLower.includes('surname') || fieldLower.includes('lastname') || 
        fieldLower.includes('—Ñ–∞–º–∏–ª–∏—è') || fieldLower.includes('–æ—Ç—á–µ—Å—Ç–≤–æ')) {
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∏–º–µ–Ω (–§–ò–û)
        if (strValue.includes(' ')) {
            return strValue.split(' ').map(part => {
                if (part.length <= 2) return part;
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 2 –±—É–∫–≤—ã
                return part.substring(0, 2) + '*'.repeat(Math.max(1, part.length - 2));
            }).join(' ');
        } 
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —Å–ª–æ–≤
        else {
            if (strValue.length <= 2) return strValue;
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 2 –±—É–∫–≤—ã
            return strValue.substring(0, 2) + '*'.repeat(Math.max(1, strValue.length - 2));
        }
    }
    
    // –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–µ—Ä–∏—é, —Å–∫—Ä—ã–≤–∞–µ–º –Ω–æ–º–µ—Ä)
    if (fieldLower.includes('passport') || fieldLower.includes('–ø–∞—Å–ø–æ—Ä—Ç')) {
        // –ï—Å–ª–∏ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ XXXX YYYYYY
        const passportMatch = strValue.match(/^(\d{4})\s*(\d{6})$/);
        if (passportMatch) {
            return `${passportMatch[1]} ***`;
        }
        // –î–ª—è –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Å—Ç–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—É—é —Ç—Ä–µ—Ç—å –≤–∏–¥–∏–º–æ–π
        const visiblePart = Math.ceil(strValue.length / 3);
        return strValue.substring(0, visiblePart) + '*'.repeat(Math.max(1, strValue.length - visiblePart));
    }
    
    // –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –∞–¥—Ä–µ—Å–æ–≤ (–±–æ–ª–µ–µ –º—è–≥–∫–∞—è)
    if (fieldLower.includes('address') || fieldLower.includes('–∞–¥—Ä–µ—Å')) {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –≥–æ—Ä–æ–¥ –∏–ª–∏ —á–∞—Å—Ç—å –∞–¥—Ä–µ—Å–∞
        const parts = strValue.split(',');
        if (parts.length > 1) {
            // –û—Å—Ç–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—ã–µ –¥–≤–µ —á–∞—Å—Ç–∏ –∞–¥—Ä–µ—Å–∞ (–æ–±—ã—á–Ω–æ –≥–æ—Ä–æ–¥ –∏ —É–ª–∏—Ü–∞)
            const visibleParts = parts.slice(0, Math.min(2, parts.length));
            const hiddenParts = parts.length > 2 ? ", ***" : "";
            return visibleParts.join(',') + hiddenParts;
                } else {
            // –ï—Å–ª–∏ –∞–¥—Ä–µ—Å –Ω–µ —Ä–∞–∑–±–∏—Ç –∑–∞–ø—è—Ç—ã–º–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
            const words = strValue.split(' ');
            const visibleWords = Math.min(3, words.length);
            const hiddenPart = words.length > visibleWords ? " ***" : "";
            return words.slice(0, visibleWords).join(' ') + hiddenPart;
        }
    }
    
    // –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–µ–ª–∞–µ–º –±–æ–ª–µ–µ –º—è–≥–∫—É—é –º–∞—Å–∫–∏—Ä–æ–≤–∫—É
    if (strValue.length > 8) {
        return strValue.substring(0, Math.ceil(strValue.length * 0.7)) + '*'.repeat(3);
    }
    
    return strValue;
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö
function getIconForDataType(fieldName) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –ø–æ–ª–µ –≤ —Å–ª–æ–≤–∞—Ä–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
    if (FIELD_TRANSLATIONS[fieldName]) {
        return FIELD_TRANSLATIONS[fieldName].split(' ')[0]; // –ë–µ—Ä–µ–º —Ç–æ–ª—å–∫–æ —ç–º–æ–¥–∑–∏
    }
    
    const fieldNameLower = fieldName.toLowerCase();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –ø–æ–ª–µ –≤ —Å–ª–æ–≤–∞—Ä–µ –ø–æ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
    for (const key in FIELD_TRANSLATIONS) {
        if (key.toLowerCase() === fieldNameLower) {
            return FIELD_TRANSLATIONS[key].split(' ')[0];
        }
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º, –µ—Å–ª–∏ –Ω–µ—Ç –≤ —Å–ª–æ–≤–∞—Ä–µ
    if (fieldNameLower.includes('phone') || fieldNameLower === 't' || fieldNameLower === 'number') return 'üìû';
    if (fieldNameLower.includes('mail') || fieldNameLower === 'e' || fieldNameLower === 'email') return 'üñ•';
    if (fieldNameLower.includes('name') || fieldNameLower.includes('–∏–º—è')) return 'üë§';
    if (fieldNameLower.includes('surname') || fieldNameLower.includes('lastname') || fieldNameLower.includes('—Ñ–∞–º–∏–ª–∏—è')) return 'üßç‚Äç‚ôÇÔ∏è';
    if (fieldNameLower.includes('address') || fieldNameLower.includes('–∞–¥—Ä–µ—Å')) return 'üè†';
    if (fieldNameLower.includes('city') || fieldNameLower.includes('–≥–æ—Ä–æ–¥')) return 'üåá';
    if (fieldNameLower.includes('birth') || fieldNameLower.includes('bday') || fieldNameLower.includes('birthday')) return 'üéÇ';
    if (fieldNameLower.includes('job') || fieldNameLower.includes('work')) return 'üíº';
    if (fieldNameLower.includes('company')) return 'üè¢';
    if (fieldNameLower.includes('passport') || fieldNameLower.includes('–ø–∞—Å–ø–æ—Ä—Ç')) return 'üõÇ';
    if (fieldNameLower.includes('tags') || fieldNameLower.includes('tag') || fieldNameLower.includes('—Ç–µ–≥')) return '#Ô∏è‚É£';
    if (fieldNameLower.includes('username') || fieldNameLower.includes('nick') || fieldNameLower.includes('login')) return 'üó£';
    if (fieldNameLower.includes('comment') || fieldNameLower.includes('note')) return 'üìù';
    if (fieldNameLower.includes('card') || fieldNameLower.includes('–∫–∞—Ä—Ç–∞')) return 'üí≥';
    if (fieldNameLower.includes('region') || fieldNameLower.includes('—Ä–µ–≥–∏–æ–Ω')) return 'üá∑üá∫';
    if (fieldNameLower.includes('date') || fieldNameLower.includes('–¥–∞—Ç–∞')) return 'üóì';
    if (fieldNameLower.includes('password') || fieldNameLower.includes('–ø–∞—Ä–æ–ª—å')) return 'üîê';
    if (fieldNameLower.includes('ip')) return 'üì±';
    if (fieldNameLower.includes('gender') || fieldNameLower.includes('–ø–æ–ª')) return 'üöπ';
    if (fieldNameLower.includes('field') || fieldNameLower.startsWith('f')) return '#Ô∏è‚É£';
    
    // –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—â—É—é –∏–∫–æ–Ω–∫—É
    return 'üìÑ';
}

// –î–æ–±–∞–≤–∏–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
function cleanupResultData(result) {
    // –û—á–∏—â–∞–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    const cleanupPatterns = [
        { pattern: /–î—Ä—É–∑–¥—å/g, replace: '' },
        { pattern: /Javascript: Javascript: this\.disabled=true/g, replace: '' },
        { pattern: /Javascript: this\.disabled=true/g, replace: '' }
    ];
    
    // –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    for (const key in result) {
        if (typeof result[key] === 'string') {
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –≤—Å–µ —à–∞–±–ª–æ–Ω—ã –æ—á–∏—Å—Ç–∫–∏
            cleanupPatterns.forEach(cleanup => {
                result[key] = result[key].replace(cleanup.pattern, cleanup.replace);
            });
            
            // –£–¥–∞–ª—è–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
            result[key] = result[key].replace(/\s+,/g, ',').replace(/,\s+/g, ', ').replace(/\s{2,}/g, ' ').trim();
        } else if (typeof result[key] === 'object' && result[key] !== null) {
            // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
            cleanupResultData(result[key]);
        }
    }
    
    return result;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π (–æ—á–∏—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
function displayResultsWithOptimization(data, phoneNumber) {
    // –û—á–∏—â–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    const resultsContainer = document.getElementById('results-container');
    if (!resultsContainer) return;
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    const optimizationInfo = resultsContainer.querySelector('.optimization-info');
    
    // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    resultsContainer.innerHTML = '';
    if (optimizationInfo) {
        resultsContainer.appendChild(optimizationInfo);
    }
    
    // –ö–ª–æ–Ω–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª
    const optimizedData = JSON.parse(JSON.stringify(data));
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –æ—á–∏—Å—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö
    if (optimizedData.results) {
        optimizedData.results = optimizedData.results.map(result => cleanupResultData(result));
    }
    
    // –°—Ç–∏–ª–∏–∑—É–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    const resultCards = document.createElement('div');
    resultCards.className = 'result-cards';
    resultCards.style.marginTop = '20px';
    
    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    const filteredResults = optimizedData.results.filter(result => {
        if (result.explain && result.explain === "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —É—Ç–µ—á–∫–∞") {
            return false;
        }
        return true;
    });
    
    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    filteredResults.forEach((result, index) => {
        const resultCard = createResultCard(result, index);
        if (resultCard) {
            resultCards.appendChild(resultCard);
        }
    });
    
    resultsContainer.appendChild(resultCards);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
    document.getElementById('db-count').textContent = filteredResults.length;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
function displayResultsWithoutOptimization(data, phoneNumber) {
    // –û—á–∏—â–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    const resultsContainer = document.getElementById('results-container');
    if (!resultsContainer) return;
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    const optimizationInfo = resultsContainer.querySelector('.optimization-info');
    
    // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    resultsContainer.innerHTML = '';
    if (optimizationInfo) {
        resultsContainer.appendChild(optimizationInfo);
    }
    
    // –ö–ª–æ–Ω–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª
    const originalData = JSON.parse(JSON.stringify(data));
    
    // –°—Ç–∏–ª–∏–∑—É–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    const resultCards = document.createElement('div');
    resultCards.className = 'result-cards';
    resultCards.style.marginTop = '20px';
    
    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–æ–ª—å–∫–æ –ø–æ "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —É—Ç–µ—á–∫–∞"
    const filteredResults = originalData.results.filter(result => {
        if (result.explain && result.explain === "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —É—Ç–µ—á–∫–∞") {
            return false;
        }
        return true;
    });
    
    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏
    filteredResults.forEach((result, index) => {
        const resultCard = createResultCard(result, index);
        if (resultCard) {
            resultCards.appendChild(resultCard);
        }
    });
    
    resultsContainer.appendChild(resultCards);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
    document.getElementById('db-count').textContent = filteredResults.length;
}
</script>

<script>
// –ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è ReFind
(function() {
    window.ReFind = window.ReFind || {};
    window.ReFind.api = window.ReFind.api || {};
    
    window.ReFind.api.jsonpRequest = function(url, callback) {
        const callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());
        window[callbackName] = function(data) {
            delete window[callbackName];
            document.body.removeChild(script);
            callback(data);
        };

        const script = document.createElement('script');
        script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackName;
        document.body.appendChild(script);
        
        script.onerror = function() {
            delete window[callbackName];
            document.body.removeChild(script);
            callback({ error: '–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ JSONP –∑–∞–ø—Ä–æ—Å–∞' });
        };
    };
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (—Å –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π)
    window.showFullText = function(button, fieldName, resultIndex) {
        try {
            console.log(`–ó–∞–ø—Ä–æ—à–µ–Ω –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–ª—è ${fieldName} –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ ${resultIndex}`);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
            if (!window.ReFind || !window.ReFind.lastSearchResults || !window.ReFind.lastSearchResults.results) {
                console.error('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞');
                return;
            }
            
            // –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É
            const result = window.ReFind.lastSearchResults.results[resultIndex];
            if (!result) {
                console.error(`–†–µ–∑—É–ª—å—Ç–∞—Ç —Å –∏–Ω–¥–µ–∫—Å–æ–º ${resultIndex} –Ω–µ –Ω–∞–π–¥–µ–Ω`);
                return;
            }
            
            // –ù–∞—Ö–æ–¥–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
            let fieldValue = result[fieldName];
            
            // –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∞–ø—Ä—è–º—É—é, –ø—Ä–æ–±—É–µ–º –∏—Å–∫–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—è—Ö
            if (fieldValue === undefined) {
                // –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –∏ –∏—â–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –∏–º–µ–Ω–∏ –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞
                for (const key in result) {
                    if (key.toLowerCase() === fieldName.toLowerCase() || 
                        key.toLowerCase().includes(fieldName.toLowerCase())) {
                        fieldValue = result[key];
                        console.debug(`–ù–∞–π–¥–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–æ–ª–µ ${key}`);
                        break;
                    }
                }
                
                // –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞—à–ª–∏, –∏—â–µ–º –≤ _source (—Ñ–æ—Ä–º–∞—Ç Elasticsearch)
                if (fieldValue === undefined && result._source) {
                    fieldValue = result._source[fieldName];
                    if (fieldValue !== undefined) {
                        console.debug(`–ù–∞–π–¥–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ _source.${fieldName}`);
                    }
                }
                
                // –ò—â–µ–º –≤ –¥—Ä—É–≥–∏—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
                if (fieldValue === undefined) {
                    const possibleContainers = ['data', 'source', '_source', 'fields', 'values', 'properties'];
                    for (const container of possibleContainers) {
                        if (result[container] && typeof result[container] === 'object') {
                            if (result[container][fieldName] !== undefined) {
                                fieldValue = result[container][fieldName];
                                console.debug(`–ù–∞–π–¥–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ ${container}.${fieldName}`);
                                break;
                            }
                            
                            // –ü—Ä–æ–±—É–µ–º –∏—Å–∫–∞—Ç—å –ø–æ –∫–ª—é—á—É –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞
                            for (const key in result[container]) {
                                if (key.toLowerCase() === fieldName.toLowerCase()) {
                                    fieldValue = result[container][key];
                                    console.debug(`–ù–∞–π–¥–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ ${container}.${key} (–±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞)`);
                                    break;
                                }
                            }
                            
                            if (fieldValue !== undefined) break;
                        }
                    }
                }
            }
            
            // –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø—Ä–æ–±—É–µ–º –∏—Å–∫–∞—Ç—å –≤ data
            if (fieldValue === undefined && result.data) {
                fieldValue = result.data[fieldName];
            }
            
            // –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å–µ –µ—â–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É
            if (fieldValue === undefined) {
                console.error(`–ü–æ–ª–µ ${fieldName} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ`);
                
                // –ü–æ–¥–≥–æ—Ç–æ–≤–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                const availableFields = [];
                for (const key in result) {
                    if (typeof result[key] !== 'function') {
                        availableFields.push(key);
                    }
                }
                
                console.debug('–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ:', availableFields.join(', '));
                
                // –ò–∑–º–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
                button.innerHTML = '<i class="fas fa-exclamation-circle"></i> –î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã';
                button.style.opacity = '0.6';
                button.style.pointerEvents = 'none';
                return;
            }
            
            // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
            if (Array.isArray(fieldValue)) {
                fieldValue = fieldValue.join(', ');
                console.debug('–ú–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ —Å—Ç—Ä–æ–∫—É');
            } else if (typeof fieldValue !== 'string') {
                fieldValue = String(fieldValue);
                console.debug('–ó–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–æ –≤ —Å—Ç—Ä–æ–∫—É');
            }
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞—Å–∫–∏—Ä–æ–≤–∫—É –∫ –¥–∞–Ω–Ω—ã–º
            const maskedValue = window.maskSensitiveData ? window.maskSensitiveData(fieldValue, fieldName) : fieldValue;
            
            // –ù–∞—Ö–æ–¥–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            const detailItem = button.closest('.detail-item');
            if (!detailItem) {
                console.error('–ù–µ –Ω–∞–π–¥–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è (detail-item)');
                return;
            }
            
            // –ù–∞—Ö–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º
            const valueElement = detailItem.querySelector('.field-value');
            if (!valueElement) {
                console.error('–≠–ª–µ–º–µ–Ω—Ç –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω (field-value)');
                return;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            detailItem.classList.add('load-success');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∫–Ω–æ–ø–∫—É
            valueElement.textContent = maskedValue;
            
            // –ú–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –∏ –¥–µ–ª–∞–µ–º –µ–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π
            button.innerHTML = '<i class="fas fa-check-circle"></i> –û—Ç–æ–±—Ä–∞–∂–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é';
            button.style.opacity = '0.6';
            button.style.pointerEvents = 'none';
            
            // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
            setTimeout(() => {
                detailItem.classList.remove('load-success');
            }, 1000);
            
            console.log(`–£—Å–ø–µ—à–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–ª—è ${fieldName}`);
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞:', error);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
            if (button) {
                button.innerHTML = '<i class="fas fa-exclamation-triangle"></i> –û—à–∏–±–∫–∞';
                button.style.opacity = '0.6';
                button.style.pointerEvents = 'none';
            }
        }
    };
                
    // –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
    window.ReFind = window.ReFind || {};
    window.ReFind.showFullText = window.showFullText;
})();
</script>

<script>
    // ... existing code ...
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function validatePhoneNumber(phone) {
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã
            const cleanPhone = phone.replace(/\D/g, '');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–æ–º–µ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 11 —Ü–∏—Ñ—Ä –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 7 –∏–ª–∏ 8
            return /^[78]\d{10}$/.test(cleanPhone);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function formatPhoneNumber(phone) {
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã
            const cleaned = phone.replace(/\D/g, '');
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –Ω–æ–º–µ—Ä –∫–∞–∫ 7 (123) 456-78-90
            if (cleaned.length === 11) {
                return `${cleaned[0]} (${cleaned.substring(1, 4)}) ${cleaned.substring(4, 7)}-${cleaned.substring(7, 9)}-${cleaned.substring(9, 11)}`;
            }
            
            return phone;
        }
        
    // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
    let loading = false;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
    function updateLoadingState() {
        const searchButton = document.getElementById('search-button');
        if (searchButton) {
            if (loading) {
                searchButton.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> –ü–æ–∏—Å–∫...';
                searchButton.disabled = true;
            } else {
                searchButton.innerHTML = '<i class="fas fa-search"></i> –ü–æ–∏—Å–∫';
                searchButton.disabled = false;
            }
        }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
        async function performSearch(phone) {
            loading = true;
            updateLoadingState();
            
            try {
                const logger = window.ReFind && window.ReFind.api && window.ReFind.api.logger ? 
                    window.ReFind.api.logger : {
                        info: (msg) => console.info(msg),
                        error: (msg) => console.error(msg),
                        debug: (msg) => console.debug(msg)
                    };
                    
                logger.info(`–ù–∞—á–∏–Ω–∞–µ–º –ø–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É: ${phone.substring(0, 5)}***`);
                const startTime = performance.now();
                    
                // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
                phone = phone.replace(/[^\d]/g, '');
                if (phone.startsWith('8')) {
                    phone = '7' + phone.substring(1);
                }
                
                // –ü–æ–ª—É—á–∞–µ–º API –∫–ª—é—á –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
                const apiKey = window.ReFind && window.ReFind.config ? window.ReFind.config.api_key : '5386c7fd-f568-49f8-a36e-db8d2e705bdc';
                        
                // –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–π API
                logger.info(`–í—ã–ø–æ–ª–Ω—è–µ–º JSONP –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É ReFind`);
                
                // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–º–∏—Å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
                return new Promise((resolve, reject) => {
                    // –§–æ—Ä–º–∏—Ä—É–µ–º URL –¥–ª—è JSONP –∑–∞–ø—Ä–æ—Å–∞
                    const jsonpUrl = `${window.location.protocol}//${window.location.host}/search?phone=${phone}&api_key=${apiKey}`;
                    
                    // –ò—Å–ø–æ–ª—å–∑—É–µ–º JSONP –∑–∞–ø—Ä–æ—Å
                    window.ReFind.api.jsonpRequest(jsonpUrl, function(data) {
                        const endTime = performance.now();
                        const requestDuration = ((endTime - startTime) / 1000).toFixed(2);
                        
                        // –£–º–µ–Ω—å—à–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤
                        if (window.ReFind && window.ReFind.config) {
                            if (typeof window.ReFind.config.remainingSearches === 'number') {
                                window.ReFind.config.remainingSearches = Math.max(0, window.ReFind.config.remainingSearches - 1);
                                
                                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
                                const searchLimitElement = document.getElementById('search-limit');
                                if (searchLimitElement) {
                                    searchLimitElement.textContent = window.ReFind.config.remainingSearches;
                                }
                            }
                        }
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ data - —ç—Ç–æ –æ–±—ä–µ–∫—Ç
                        if (typeof data !== 'object' || data === null) {
                            logger.error(`–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö: –æ—Ç–≤–µ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º`);
                            loading = false;
                            updateLoadingState();
                            resolve({ 
                                error: `–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ`,
                                results: []
                            });
                return;
            }
            
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–∫–∏ –≤ –æ—Ç–≤–µ—Ç–µ
                        if (data && data.error) {
                            logger.error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ: ${data.error}`);
                            loading = false;
                            updateLoadingState();
                            resolve({ 
                                error: data.error,
                                errorCode: data.errorCode || 'API_ERROR',
                                results: []
                            });
                return;
            }
            
                        // –ï—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ "not found"
                        if ((data && data.detail && typeof data.detail === 'string' && data.detail.includes("not found")) || 
                            (data && Array.isArray(data.results) && data.results.length === 0)) {
                            
                            logger.info(`–ù–æ–º–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö`);
                            loading = false;
                            updateLoadingState();
                            
                            resolve({ 
                                error: '–ù–æ–º–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö',
                                errorCode: 'NOT_FOUND',
                                results: [],
                                totalFound: 0,
                                searchTime: requestDuration
                            });
                            return;
                        }
                        
                        logger.info(`–ü–æ–∏—Å–∫ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω: –Ω–∞–π–¥–µ–Ω–æ ${data.results ? data.results.length : 0} —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞ ${requestDuration}—Å`);
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã - —ç—Ç–æ –º–∞—Å—Å–∏–≤
                        if (data.results && !Array.isArray(data.results)) {
                            data.results = [];
                            logger.warning('–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º');
                        }
                        
                        // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–∏—Å–∫–∞
                        if (window.ReFind && window.ReFind.trackSearch) {
                            window.ReFind.trackSearch({
                                type: 'phone',
                                count: data.results ? data.results.length : 0,
                                searchTime: requestDuration,
                                error: null
                            });
                        }
                        
                        loading = false;
                        updateLoadingState();
                        
                        // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                        const result = {
                            results: data.results || [],
                            totalFound: data.results ? data.results.length : 0,
                            originalCount: data.count || data.results?.length || 0,
                            searchTime: data.execution_time || requestDuration,
                            request_id: data.request_id || `req_${Date.now()}_${Math.floor(Math.random() * 10000)}`
                        };
                        
                        resolve(result);
                    });
                });
            } catch (error) {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
                if (window.ReFind && window.ReFind.api && window.ReFind.api.logger) {
                    window.ReFind.api.logger.error(`–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ: ${error.message}`, {
                        error: error.toString(),
                        stack: error.stack
                    });
            } else {
                    console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–æ–∏—Å–∫–∞:", error);
                }
                
                loading = false;
                updateLoadingState();
                
                return { 
                    error: error.message || "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–æ–∏—Å–∫–∞", 
                    results: [] 
                };
            }
        }
        
        window.startSearch = function() {
        const phoneInput = document.getElementById('phone-input');
        const phoneError = document.getElementById('phone-error');
        const searchResults = document.getElementById('search-results');
        const noResults = document.getElementById('no-results');
        const resultsContainer = document.getElementById('results-container');
        const notFoundNumber = document.getElementById('not-found-number');
        
                const phone = phoneInput.value.trim();
                
                if (!validatePhoneNumber(phone)) {
                phoneError.textContent = "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 11 —Ü–∏—Ñ—Ä –∏ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å 7 –∏–ª–∏ 8";
                    phoneError.style.display = 'block';
                    return;
                }
                
                phoneError.style.display = 'none';

            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            if (window.ReFind) {
                window.ReFind.lastSearchResults = null;
            }
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            searchResults.style.display = 'none';
            noResults.style.display = 'none';
            resultsContainer.innerHTML = '';
                
            performSearch(phone)
                .then(data => {
                    displayResults(data, phone);
                    
                    if (data && data.results && data.results.length > 0) {
                        searchResults.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    } else {
                        noResults.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                })
                .catch(error => {
                    console.error('–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ:', error);
                    
                    searchResults.style.display = 'none';
                    noResults.style.display = 'block';
                    notFoundNumber.textContent = formatPhoneNumber(phone);
                    
                    // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—à–∏–±–∫–∏ –∏ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö
                    const existingErrorMessages = noResults.querySelectorAll('.error-message');
                    existingErrorMessages.forEach(el => el.remove());
                    
                    const existingActionDivs = noResults.querySelectorAll('.search-actions');
                    existingActionDivs.forEach(el => el.remove());
                    
                    const errorElem = document.createElement('div');
                    errorElem.className = 'error-message';
                    
                    const errorMsg = error.message && typeof error.message === 'string' 
                        ? error.message
                        : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ';
                    
                    errorElem.innerHTML = `
                        <div class="error-icon"><i class="fas fa-exclamation-circle"></i></div>
                        <div class="error-text">
                            <h3>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</h3>
                            <p>${errorMsg}</p>
                        </div>
                    `;
                    
                    while (noResults.children.length > 4) {
                        noResults.removeChild(noResults.lastChild);
                    }
                    
                    noResults.appendChild(errorElem);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
                    const retryButton = document.createElement('button');
                    retryButton.className = 'bot-help-button retry-button';
                    retryButton.innerHTML = '<i class="fas fa-redo"></i> –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–∏—Å–∫';
                    retryButton.onclick = function() { startSearch(); };
                    
                    const actionDiv = document.createElement('div');
                    actionDiv.className = 'search-actions';
                    actionDiv.style.marginTop = '20px';
                    actionDiv.appendChild(retryButton);
                    noResults.appendChild(actionDiv);
                });
        };
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º debounce –∫ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞
    function debounce(func, wait) {
        let timeout;
        return function() {
            const context = this, args = arguments;
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(context, args), wait);
        };
    }

        const debouncedStartSearch = debounce(function() {
                startSearch();
        }, 300); // 300ms debounce
        
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
        const searchButton = document.getElementById('search-button');
        const phoneInput = document.getElementById('phone-input');
        
        if (searchButton) {
        searchButton.addEventListener('click', function() {
            debouncedStartSearch();
        });
        }
        
        if (phoneInput) {
        phoneInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                debouncedStartSearch();
            }
        });
        }
        });
    // ... existing code ...
</script>

<script>
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫—É–ª–¥–∞—É–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –æ—à–∏–±–∫–∏
    document.addEventListener('DOMContentLoaded', function() {
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–∞
        let isInCooldown = false;
        let cooldownTimer = null;
        let cooldownSeconds = 90;
        const searchButton = document.getElementById('search-button');
        const phoneError = document.getElementById('phone-error');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫—É–ª–¥–∞—É–Ω–∞ –≤ localStorage –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function checkCooldownStatus() {
            const savedCooldownData = localStorage.getItem('searchCooldownData');
            if (savedCooldownData) {
                try {
                    const cooldownData = JSON.parse(savedCooldownData);
                    const now = Date.now();
                    const expirationTime = cooldownData.expirationTime;
                    
                    // –ï—Å–ª–∏ –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–∞ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—É–ø–∏–ª–æ
                    if (expirationTime > now) {
                        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è
                        const remainingSeconds = Math.ceil((expirationTime - now) / 1000);
                        if (remainingSeconds > 0) {
                            startCooldown(remainingSeconds);
                            return true;
                        }
                    }
                    } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å—Ç–∞—Ç—É—Å–∞ –∫—É–ª–¥–∞—É–Ω–∞:', e);
                }
                
                // –ï—Å–ª–∏ –∫—É–ª–¥–∞—É–Ω –∏—Å—Ç–µ–∫ –∏–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –æ—á–∏—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ
                localStorage.removeItem('searchCooldownData');
            }
            return false;
        }
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫—É–ª–¥–∞—É–Ω–∞ –≤ localStorage
        function saveCooldownState(duration) {
            const expirationTime = Date.now() + (duration * 1000);
            const cooldownData = {
                expirationTime: expirationTime,
                duration: duration
            };
            localStorage.setItem('searchCooldownData', JSON.stringify(cooldownData));
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞
        function startCooldown(duration = 90) {
            isInCooldown = true;
            cooldownSeconds = duration;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
            if (phoneError) {
                phoneError.textContent = `–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞: —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ ${cooldownSeconds} —Å–µ–∫.`;
                phoneError.style.display = 'block';
            }
            
            searchButton.classList.add('cooldown');
            searchButton.disabled = true;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫—É–ª–¥–∞—É–Ω–∞
            saveCooldownState(cooldownSeconds);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–π–º–µ—Ä –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            cooldownTimer = setInterval(function() {
                cooldownSeconds--;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
                if (phoneError) {
                    phoneError.textContent = `–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞: —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ ${cooldownSeconds} —Å–µ–∫.`;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ localStorage
                saveCooldownState(cooldownSeconds);
                
                if (cooldownSeconds <= 0) {
                    endCooldown();
                }
            }, 1000);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–∞
        function endCooldown() {
            isInCooldown = false;
            clearInterval(cooldownTimer);
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
            if (phoneError) {
                phoneError.style.display = 'none';
            }
            
            searchButton.classList.remove('cooldown');
            searchButton.disabled = false;
            
            // –£–¥–∞–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –æ –∫—É–ª–¥–∞—É–Ω–µ –∏–∑ localStorage
            localStorage.removeItem('searchCooldownData');
        }
        
        // –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é startSearch –¥–ª—è —É—á–µ—Ç–∞ –∫—É–ª–¥–∞—É–Ω–∞
        const originalStartSearch = window.startSearch;
        window.startSearch = function() {
            // –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω –∫—É–ª–¥–∞—É–Ω, –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–∏—Å–∫
            if (isInCooldown) {
                console.log('–ü–æ–∏—Å–∫ –≤ –∫—É–ª–¥–∞—É–Ω–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø–æ–¥–æ–∂–¥–∏—Ç–µ');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                if (phoneError) {
                    phoneError.textContent = `–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞: —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ ${cooldownSeconds} —Å–µ–∫.`;
                    phoneError.style.display = 'block';
                }
                
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            const phone = document.getElementById('phone-input').value.trim();
            if (!validatePhoneNumber(phone)) {
                if (phoneError) {
                    phoneError.textContent = "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 11 —Ü–∏—Ñ—Ä –∏ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å 7 –∏–ª–∏ 8";
                    phoneError.style.display = 'block';
                }
                return;
            }
            
            phoneError.style.display = 'none';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞
            // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ try-catch –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –æ—à–∏–±–æ–∫
            try {
                // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–º–∏—Å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–∏—Å–∫–∞
                const searchPromise = new Promise((resolve, reject) => {
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é displayResults
                    const originalDisplayResults = window.displayResults;
                    
                    // –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ–º displayResults
                    window.displayResults = function(data, phoneNumber) {
                        // –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞, –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ–º –∫—É–ª–¥–∞—É–Ω
                        if (data.error) {
                            resolve(false); // –û—à–∏–±–∫–∞, –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ–º –∫—É–ª–¥–∞—É–Ω
                    } else {
                            resolve(true); // –£—Å–ø–µ—Ö, –∑–∞–ø—É—Å–∫–∞–µ–º –∫—É–ª–¥–∞—É–Ω
                        }
                        
                        // –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
                        originalDisplayResults(data, phoneNumber);
                        
                        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
                        window.displayResults = originalDisplayResults;
                    };
                    
                    // –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞
                    originalStartSearch.apply(this, arguments);
                });
                
                // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞
                searchPromise.then(shouldStartCooldown => {
                    if (shouldStartCooldown) {
                        // –ó–∞–ø—É—Å–∫–∞–µ–º –∫—É–ª–¥–∞—É–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–∏—Å–∫–µ
                        startCooldown();
                    }
                });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–æ–∏—Å–∫–∞:', error);
                // –ù–µ –∑–∞–ø—É—Å–∫–∞–µ–º –∫—É–ª–¥–∞—É–Ω –ø—Ä–∏ –æ—à–∏–±–∫–µ
                originalStartSearch.apply(this, arguments);
            }
        };
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫—É–ª–¥–∞—É–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        checkCooldownStatus();
    });
</script>

</body>
</html> 